!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueAutosuggest=t():e.VueAutosuggest=t()}(this,function(){return function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var s,i,u;!function(r,o){i=[t,n(1)],s=o,void 0!==(u="function"==typeof s?s.apply(t,i):s)&&(e.exports=u)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default={install:function(e){e.component("vue-autosuggest",n.default),"undefined"!=typeof window&&window.Vue&&window.Vue.use(n.default)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),i=n.n(s),u=n(4),r=n(2),o=r(i.a,u.a,!1,null,null,null);t.default=o.exports},function(e,t){e.exports=function(e,t,n,s,i,u){var r,o=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(r=e,o=e.default);var l="function"==typeof o?o.options:o;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i);var c;if(u?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)},l._ssrRegister=c):s&&(c=s),c){var d=l.functional,g=d?l.render:l.beforeCreate;d?(l._injectStyles=c,l.render=function(e,t){return c.call(t),g(e,t)}):l.beforeCreate=g?[].concat(g,c):[c]}return{esModule:r,exports:o,options:l}}},function(e,t,n){var s,i,u;!function(n,r){i=[t],s=r,void 0!==(u="function"==typeof s?s.apply(t,i):s)&&(e.exports=u)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"autosuggest",props:{inputProps:{id:{type:String,default:"autosuggest__input"},onInputChange:{type:Function,required:!0},initialValue:{type:String,default:""},placeholder:{type:String,required:!0},onClick:{type:Function,required:!1}},limit:{type:Number,required:!1,default:1/0},onSelected:{type:Function,required:!1,default:function(){}},suggestions:{type:Array,required:!0,default:[]},shouldRenderSuggestions:{type:Function,required:!1,default:function(){return!0}},resultItemKey:{type:String,required:!1}},data:function(){return{searchInput:"",searchInputOriginal:"",currentIndex:null,loading:!1,didSelectFromOptions:!1}},computed:{isOpen:function(){return this.shouldRenderSuggestions()&&!this.loading},suggestionsFiltered:function(){return this.suggestions.slice(0,this.limit)}},methods:{styleItem:function(e){if(!this.didSelectFromOptions){var t=this.searchInput.trim(),n=new RegExp(""+t,"ig");return e.replace(n,"<b>"+t+"</b>")}return e},handleKeyStroke:function(e){var t=this,n=e.keyCode;switch(this.loading=!1,this.didSelectFromOptions=!1,n){case 40:case 38:if(e.preventDefault(),this.isOpen){var s=40===n?1:-1,i=this.currentIndex+s;this.setCurrentIndex(i,this.suggestions.length,s),this.didSelectFromOptions=!0,this.suggestions.length>0&&this.currentIndex>=0&&this.suggestions[this.currentIndex]&&(this.setChangeItem(this.suggestions[this.currentIndex][this.resultItemKey]),this.didSelectFromOptions=!0)}break;case 13:if(e.preventDefault(),229===n)break;this.$nextTick(function(){t.suggestions.length>0&&t.currentIndex>=0&&t.suggestions[t.currentIndex]&&(t.setChangeItem(t.suggestions[t.currentIndex][t.resultItemKey]),t.didSelectFromOptions=!0),t.loading=!0,t.$nextTick(function(){t.onSelected(t.didSelectFromOptions)})});break;case 27:this.isOpen&&(this.loading=!0,this.currentIndex=null,this.searchInput=this.searchInputOriginal,e.preventDefault())}},setChangeItem:function(e){this.searchInput=e},onSuggestionMouseEnter:function(e){this.currentIndex=e.currentTarget.getAttribute("data-suggestion-index")},resetHighlightedSuggestionOnMouseLeave:function(){this.currentIndex=null},onDocumentMouseUp:function(){var e=this;if(null===this.currentIndex||!this.suggestions[this.currentIndex])return void(this.loading=this.shouldRenderSuggestions());this.loading=!0,this.setChangeItem(this.suggestions[this.currentIndex][this.resultItemKey]),this.$nextTick(function(){e.onSelected(!0)})},setCurrentIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments[2],s=e;null===this.currentIndex&&(s=0),this.currentIndex<0&&1===n&&(s=0),e>=t&&(s=0),this.currentIndex=s;var i=document.getElementById("autosuggest__results_item-"+this.currentIndex),u="autosuggest__results_item-highlighted";document.querySelector("."+u)&&this.removeClass(document.querySelector("."+u),u),i&&this.addClass(i,u)},onClick:function(){this.loading=!1,this.inputProps.onClick()},hasClass:function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(e.classList)e.classList.remove(t);else if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}},mounted:function(){document.addEventListener("mouseup",this.onDocumentMouseUp);var e=document.getElementById(this.inputProps.id);e&&(e.value=this.inputProps.initialValue)},watch:{searchInput:function(e,t){this.value=e,this.didSelectFromOptions||(this.searchInputOriginal=this.value,this.currentIndex=null,this.inputProps.onInputChange(e))}}}})},function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"autosuggest"}},[n("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],staticClass:"form-control",class:[e.isOpen?"autosuggest__input-open":"",e.inputProps.class],attrs:{name:"q",type:"text",maxlength:"256",autocomplete:"off","aria-autosuggest":"list","aria-owns":"autosuggest__results","aria-activedescendant":e.isOpen?"autosuggest__results--item-"+e.currentIndex:"","aria-haspopup":e.isOpen},domProps:{value:e.searchInput},on:{keydown:e.handleKeyStroke,click:e.onClick,input:function(t){t.target.composing||(e.searchInput=t.target.value)}}},"input",e.inputProps,!1)),e._v(" "),n("div",{staticClass:"autosuggest__results-container"},[e.suggestionsFiltered.length>0&&!e.loading?n("ul",{staticClass:"autosuggest__results",attrs:{role:"listbox","aria-labelledby":"autosuggest"}},[e._l(e.suggestionsFiltered,function(t,s){return e._t("autosuggest",[n("li",{key:s,staticClass:"autosuggest__results_item",class:{"autosuggest__results_item-highlighted":s==e.currentIndex,autosuggest__results_item:!0},attrs:{"data-suggestion-index":s,role:"option",id:"autosuggest__results_item-"+s},on:{mouseenter:e.onSuggestionMouseEnter,mouseleave:e.resetHighlightedSuggestionOnMouseLeave}},[n("span",{domProps:{innerHTML:e._s(t[e.resultItemKey])}})])],{result:t,mouseenter:e.onSuggestionMouseEnter,mouseleave:e.resetHighlightedSuggestionOnMouseLeave,dataSuggestionIndex:s,role:"option",styleItem:e.styleItem,id:"autosuggest__results_item-"+s})})],2):e._e()])])},i=[],u={render:s,staticRenderFns:i};t.a=u}])});